#include <iostream>
#include <cmath>

using namespace std;

double Func(double x) 
{
	return x * x + 2 * x - 15;
}

double PhiFunc(double x)
{
	return (x * x - 15) / -2;
}

double DoCutInHalfMethod(double (*f)(double), double a, double b, double eps) 
{
	double c;
	while ((b - a) / 2 > eps) {
		c = (a + b) / 2;
		((f(a) * f(c)) > 0) ? a = c : b = c;
	}
	return c;
}

double DoSecantMethod(double (*f)(double), double a, double b, double eps)
{
	double c = 0;
    double tmp;
 
    do
    {
        tmp = c;
        c = b - (f(b) * (a - b) / (f(a) - f(b)));
        a = b;
        b = tmp;
    } while (abs(c - b) > eps);
 
    return c;
}

double DoSimpleIterationsMethod(double (*f)(double), double x0, double eps, int n)
{
	double x = x0, df;
	df = (f(x + eps) - f(x)) / eps;
	for (int i = 1; i <= n; i++)
		x = x - f(x) / df;
	return x;
}

int main() 
{
	double a, b, eps, x;
	cout << "Set an interval:\n";
	cout << "a: ";
	cin >> a;
	cout << "b: ";
	cin >> b;

	if (Func(a) * Func(b) > 0) {
		cout << "Wrong interval!\n";
		return 0;
	}
	cout << "Accuracy: ";
	cin >> eps;
	
	x = DoCutInHalfMethod(Func, a, b, eps);
	cout << "Cut-in-half method X = " << x << endl;
	x = DoSecantMethod(Func, a, b, eps);
	cout << "Secant method X = " << x << endl;
	x = DoSimpleIterationsMethod(Func, b, eps, 100);
	cout << "Simple iterations method X = " << x << endl;
}
